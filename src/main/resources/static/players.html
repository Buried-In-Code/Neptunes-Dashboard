<!DOCTYPE html>
<html lang="en">
<head>
	<title>BIT 269's Neptune's Pride</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" rel="stylesheet" type="text/css">
	<link href="https://cdn.datatables.net/1.10.18/css/dataTables.semanticui.css" rel="stylesheet" type="text/css"/>
	<link href="/styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="navbar"></div>
<div class="ui container">
	<table class="ui selectable striped celled inverted compact table opacity" id="leaderboard">
		<thead>
			<tr>
				<th>Alias</th>
				<th>Name</th>
				<th>Team</th>
				<th>Stars</th>
				<th>Ships</th>
				<th>Economy</th>
				<th>Industry</th>
				<th>Science</th>
			</tr>
		</thead>
	</table>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.18/js/dataTables.semanticui.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/patternomaly@1.3.2/dist/patternomaly.min.js" type="text/javascript"></script>
<script src="/script.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){
	$("#navbar").load("/navbar.html");
	var table = $('#leaderboard').DataTable({
		"processing" : true,
		"ajax" : {
			"url" : "/api/players",
			type: 'GET',
			contentType: 'application/json',
			dataType: 'json',
			dataSrc : ''
		},
		"paging": false,
		"searching": false,
		"columns" : [
			{ "data" : "alias" },
			{ "data" : "name" },
			{ "data" : "team" },
			{ "data" : "stars", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "ships", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "economy", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "industry", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "science", render: $.fn.dataTable.render.number( ',' ) }
		]
	});
	$('#leaderboard tbody').on('click', 'tr', function () {
        var data = table.row( this ).data();
        console.log("Selected: " + data);
        window.location.href = '/players/' + data.alias;
    } );
});
</script>
</body>
</html>