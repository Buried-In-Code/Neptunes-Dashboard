<!DOCTYPE html>
<html lang="en">
<head>
	<title>BIT 269's Neptune's Pride</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
	<link href="/styles.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	<a class="navbar-brand" href="https://np.ironhelmet.com">
		<img height="50" src="https://np.ironhelmet.com/images/neptunes_pride.jpg" width="200">
	</a>
	<button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
	        data-target="#navbarSupportedContent" data-toggle="collapse" type="button">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<ul class="navbar-nav mr-auto">
			<li class="nav-item">
				<a class="nav-link" href="/">Home</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/players">Players</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/teams">Teams</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/documentation">Documentation</a>
			</li>
			<li class="nav-item dropdown">
				<a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown"
				   id="navbarDropdownMenuLink" role="button">
					More
				</a>
				<div aria-labelledby="navbarDropdownMenuLink" class="dropdown-menu">
					<a class="dropdown-item" href="/settings">Settings</a>
					<a class="dropdown-item" href="/about">About</a>
					<a class="dropdown-item" href="https://github.com/Macro303/Neptunes-Pride">Git Repo</a>
					<a class="dropdown-item" href="https://github.com/Macro303/Neptunes-Pride/issues">Report an
						issue</a>
				</div>
			</li>
		</ul>
	</div>
</nav>
<div class="container">
	<table class="table table-sm table-hoverable" id="leaderboard">
		<thead class="thead-dark">
		<tr>
			<th>Name</th>
			<th>Alias</th>
			<th>Team</th>
			<th>Stars</th>
			<th>Ships</th>
			<th>Economy</th>
			<th>Industry</th>
			<th>Science</th>
		</tr>
		</thead>
	</table>
</div>
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
<script src="/script.js"></script>
<script>
$(document).ready(function(){
	var table = $('#leaderboard').DataTable({
		"processing" : true,
		"ajax" : {
			"url" : "/players",
			type: 'GET',
			contentType: 'application/json',
			dataType: 'json',
			dataSrc : ''
		},
		"paging": false,
		"searching": false,
		"columns" : [
			{ "data" : "name" },
			{ "data" : "alias" },
			{ "data" : "team" },
			{ "data" : "stars", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "ships", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "economy", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "industry", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "science", render: $.fn.dataTable.render.number( ',' ) }
		]
	});
	$('#leaderboard tbody')
		.on( 'mouseenter', 'td', function () {
			var colIdx = table.cell(this).index().column;
			$( table.cells().nodes() ).removeClass( 'highlight' );
			$( table.column( colIdx ).nodes() ).addClass( 'highlight' );
		} );
	$('#leaderboard tbody').on('click', 'tr', function () {
        var data = table.row( this ).data();
        console.log(data);
        alert( 'You clicked on '+data.alias+'\'s row' );
    } );
});
</script>
</body>
</html>