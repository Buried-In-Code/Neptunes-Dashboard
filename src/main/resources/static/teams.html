<!DOCTYPE html>
<html lang="en">
<head>
	<title>Neptune's Dashboard</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" rel="stylesheet" type="text/css">
	<link href="https://cdn.datatables.net/1.10.18/css/dataTables.semanticui.css" rel="stylesheet" type="text/css"/>
	<link href="/styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="navbar"></div>
<div class="ui container">
	<table class="ui single line selectable inverted table opacity" id="stats">
		<thead>
		<tr>
			<th>Name</th>
			<th>Total Stars</th>
			<th>Total Ships</th>
			<th>Total Economy</th>
			<th>Total Industry</th>
			<th>Total Science</th>
		</tr>
		</thead>
	</table>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.18/js/dataTables.semanticui.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/patternomaly@1.3.2/dist/patternomaly.min.js" type="text/javascript"></script>
<script src="/script.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){
	$("#navbar").load("/navbar.html");
	var stats_table = $('#stats').DataTable({
		"processing" : true,
		"ajax" : {
			"url" : "/api/latest/teams",
			type: 'GET',
			contentType: 'application/json',
			dataType: 'json',
			dataSrc : ''
		},
		"paging": false,
		"searching": false,
		"columns" : [
			{ "data" : "name" },
			{ "data" : "totalStars", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalShips", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalEconomy", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalIndustry", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalScience", render: $.fn.dataTable.render.number( ',' ) }
		],
		"order": [[1, "desc"], [2, "desc"]]
	});
	$('#stats tbody').on('click', 'tr', function () {
        var data = stats_table.row( this ).data();
        window.location.href = '/teams/' + data.name;
    } );
});
</script>
</body>
</html>