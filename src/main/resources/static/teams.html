<!DOCTYPE html>
<html lang="en">
<head>
	<title>BIT 269's Neptune's Pride</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css" rel="stylesheet" type="text/css">
	<link href="/styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="navbar"></div>
<div class="container">
	<table class="table table-sm table-hoverable" id="leaderboard">
		<thead class="thead-dark">
		<tr>
			<th>Name</th>
			<th>Total Stars</th>
			<th>Total Ships</th>
			<th>Total Economy</th>
			<th>Total Industry</th>
			<th>Total Science</th>
		</tr>
		</thead>
	</table>
</div>
<script charset="utf8" src="https://code.jquery.com/jquery-3.3.1.min.js" type="text/javascript"></script>
<script charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" type="text/javascript"></script>
<script charset="utf8" src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" type="text/javascript"></script>
<script charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js" type="text/javascript"></script>
<script charset="utf8" src="/script.js" type="text/javascript"></script>
<script charset="utf8" type="text/javascript">
$(document).ready(function(){
	$("#navbar").load("/navbar.html");
	var table = $('#leaderboard').DataTable({
		"processing" : true,
		"ajax" : {
			"url" : "/api/teams",
			type: 'GET',
			contentType: 'application/json',
			dataType: 'json',
			dataSrc : ''
		},
		"paging": false,
		"searching": false,
		"columns" : [
			{ "data" : "name" },
			{ "data" : "totalStars", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalShips", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalEconomy", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalIndustry", render: $.fn.dataTable.render.number( ',' ) },
			{ "data" : "totalScience", render: $.fn.dataTable.render.number( ',' ) }
		]
	});
	$('#leaderboard tbody').on('click', 'tr', function () {
        var data = table.row( this ).data();
        console.log("Selected: " + data);
        window.location.href = '/teams/' + data.name;
    } );
});
</script>
</body>
</html>