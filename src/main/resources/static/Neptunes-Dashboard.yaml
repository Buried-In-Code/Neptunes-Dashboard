openapi: 3.0.2
info:
  title: Neptune's Dashboard
  contact:
    email: JonahJ@datacom.co.nz
  version: "4.0.0"
servers:
  - url: localhost:6790
  - url: https://neptunes-dashboard.bitcloud.nz
tags:
  - name: Game
    description: Game Information
  - name: Player
    description: Player Information
paths:
  /api/games:
    get:
      tags:
        - Game
      summary: Get all monitored games
      parameters:
        - name: Accept
          in: header
          description: Accept Header
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Game'
  /api/games/latest:
    get:
      tags:
        - Game
      summary: Get the latest Game by start time
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
  /api/games/{gameID}:
    get:
      tags:
        - Game
      summary: Get a game by its ID
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
    put:
      tags:
        - Game
      summary: Update game data
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
    post:
      tags:
        - Game
      summary: Create game entry
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
        - name: code
          in: query
          description: API Game code
          required: true
          schema:
            type: string
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
  /api/latest/players:
    get:
      tags:
        - Player
      summary: Gets all players from the latest game
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Player'
  /api/{gameID}/players:
    get:
      tags:
        - Player
      summary: Gets all players from the given game
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Player'
  /api/latest/players/{alias}:
    get:
      tags:
        - Player
      summary: Gets the player with the given alias from the latest game
      parameters:
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Player'
  /api/{gameID}/players/{alias}:
    get:
      tags:
        - Player
      summary: Gets the player with the given alias from the given game
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Player'
  /api/latest/players/{alias}/ticks:
    get:
      tags:
        - Player
      summary: Gets all the ticks of the player with the given alias from the latest game
      parameters:
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tick'
  /api/{gameID}/players/{alias}/ticks:
    get:
      tags:
        - Player
      summary: Gets all the ticks of the player with the given alias from the given game
      parameters:
        - name: gameID
          in: path
          description: ID of Game
          required: true
          schema:
            type: number
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tick'
  /api/latest/players/{alias}/ticks/{tickID}:
    get:
      tags:
        - Player
      summary: Gets the tick of the player with the given alias from the latest game
      parameters:
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
        - name: tickID
          in: path
          description: ID of the Tick
          required: true
          schema:
            type: number
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tick'
  /api/{gameID}/players/{alias}/ticks/{tickID}:
    get:
      tags:
        - Player
      summary: Gets all the ticks of the player with the given alias from the given game
      parameters:
        - name: gameID
          in: path
          description: ID of the Game
          required: true
          schema:
            type: number
        - name: alias
          in: path
          description: Alias of the Player
          required: true
          schema:
            type: string
        - name: tickID
          in: path
          description: ID of the Tick
          required: true
          schema:
            type: number
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tick'
components:
  schemas:
    Game:
      type: object
      properties:
        id:
          type: number
        fleetSpeed:
          type: number
        isPaused:
          type: boolean
        productions:
          type: number
        tickFragment:
          type: number
        tickRate:
          type: number
        productionRate:
          type: number
        victoryStars:
          type: number
        isGameOver:
          type: boolean
        isStarted:
          type: boolean
        startTime:
          type: string
          format: date-time
        totalStars:
          type: number
        productionCounter:
          type: number
        isTradeScanned:
          type: boolean
        tick:
          type: number
        tradeCost:
          type: number
        name:
          type: string
        isTurnBased:
          type: boolean
        war:
          type: number
        turnTimeout:
          type: string
          format: date-time
        fleetPrice:
          type: number
        gameType:
          type: string
    Player:
      type: object
      properties:
        id:
          type: number
        alias:
          type: string
        name:
          type: string
          nullable: true
        team:
          type: string
          nullable: true
    Tick:
      type: object
      properties:
        tick:
          type: number
        stars:
          type: number
        fleets:
          type: number
        ships:
          type: number
        isActive:
          type: boolean
        economy:
          type: number
        economyPerTick:
          type: number
        industry:
          type: number
        industryPerTick:
          type: number
        science:
          type: number
        sciencePerTick:
          type: number
        research:
          type: object
          properties:
            scanning:
              type: number
            hyperspaceRange:
              type: number
            terraforming:
              type: number
            experimentation:
              type: number
            weapons:
              type: number
            banking:
              type: number
            manufacturing:
              type: number
